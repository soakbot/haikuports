SUMMARY="GNU Robbo: Classic Atari Puzzle Game."
DESCRIPTION="GNU Robbo is an open source reimplementation \
of Janusz Pelc's Robbo for the Atari XE/XL which was distributed \
by LK Avalon in 1989. In this retro game, you can collect and reach the \
UFO-like object."
HOMEPAGE="http://gnurobbo.sourceforge.net/" 
SRC_URI="http://softlayer-dal.dl.sourceforge.net/project/gnurobbo/gnurobbo/gnurobbo 0.66/gnurobbo-0.66-source.tar.gz"
CHECKSUM_SHA256="54d2418f49e52b8f49631eb93af7789074b628d308a6d26b00cc795ad0b04d89"
SOURCE_DIR="gnurobbo-0.66"
REVISION="2"
ARCHITECTURES="x86 x86_gcc2"
#SECONDARY_ARCHITECTURE="gcc4"
LICENSE="GNU LGPL v2.1"
COPYRIGHT="2002-2010 The GNU Robbo Team"

PROVIDES="
	gnurobbo$secondaryArchSuffix = $portVersion
	app:gnurobbo${secondaryArchSuffix} = $portVersion
	"
 
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libsdl${secondaryArchSuffix}
	lib:libsdl_mixer${secondaryArchSuffix}
	lib:libsdl_image${secondaryArchSuffix}
	lib:libsdl_ttf${secondaryArchSuffix}
        "
 
BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libsdl${secondaryArchSuffix}
	devel:libsdl_mixer${secondaryArchSuffix}
	devel:libsdl_image${secondaryArchSuffix}
	devel:libsdl_ttf${secondaryArchSuffix}
        "

BUILD_PREREQUIRES="
	cmd:make
	cmd:gcc${secondaryArchSuffix}
"

PATCHES="gnurobbo-0.66.patchset
"

BUILD()
{
	make $jobArgs
}

INSTALL()
{
	mkdir -p $appsDir/gnurobbo
	cp gnurobbo $appsDir/gnurobbo
	cp -r data $appsDir/gnurobbo
	addAppDeskbarSymlink $appsDir/gnurobbo/gnurobbo GnuRobbo
}
